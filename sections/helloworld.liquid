<section
  class="animated-hero"
  style="
    background-color: {{ section.settings.bg_color }};
    color: {{ section.settings.text_color }};
    padding: {{ section.settings.padding_top }}px 20px {{ section.settings.padding_bottom }}px;
  "
>
  <div class="container">
    {% if section.settings.title != blank %}
      <h1
        class="hero-title"
        style="font-size: {{ section.settings.title_size }}px;"
      >
        {{ section.settings.title }}
      </h1>
    {% endif %}

    <div class="slides" style="gap: {{ section.settings.card_gap }}px;">
      {% for block in section.blocks %}
        <div
          class="slide {% if section.settings.enable_animation %}animate{% endif %}"
          style="
            background: {{ block.settings.bg_color }};
            color: {{ block.settings.text_color }};
            border-radius: {{ block.settings.radius }}px;
            padding: {{ block.settings.padding }}px;
            text-align: {{ block.settings.align }};
            animation-delay: {{ block.settings.delay }}s;
            animation-duration: {{ section.settings.animation_speed }}s;
          "
          {{ block.shopify_attributes }}
        >
          {% if block.settings.image != blank %}
            {% assign img_width = block.settings.image_width %}
            {% assign img_height = block.settings.image_height %}

            <div
              class="slide-image"
            >
              <img
                src="{{ block.settings.image | image_url: width: img_width, height: img_height }}"
                width="{{ img_width }}"
                height="{{ img_height }}"
                alt="{{ block.settings.heading | default: block.settings.image.alt | escape }}"
                loading="lazy"
                class="slide-img"
              >
            </div>
          {% endif %}

          {% if block.settings.heading != blank %}
            <h2>{{ block.settings.heading }}</h2>
          {% endif %}

          {% if block.settings.text != blank %}
            <p>{{ block.settings.text }}</p>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
  .container {
    max-width: 1200px;
    margin: auto;
  }

  .slides {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }

  .slide img {
    width: 100%;
    object-fit: cover;
    border-radius: 12px;
    margin-bottom: 16px;
  }

  .animate {
    opacity: 0;
    transform: translateY(30px);
    animation-name: fadeUp;
    animation-fill-mode: forwards;
  }

  @keyframes fadeUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

{% schema %}
{
  "name": "Animated Hero Section",
  "settings": [
    { "type": "text", "id": "title", "label": "Title", "default": "Welcome to Our Store" },
    { "type": "range", "id": "title_size", "label": "Title Font Size", "min": 24, "max": 72, "default": 42 },

    { "type": "color", "id": "text_color", "label": "Default Text Color", "default": "#ffffff" },
    { "type": "color", "id": "bg_color", "label": "Background Color", "default": "#0f172a" },

    { "type": "range", "id": "padding_top", "label": "Padding Top", "min": 20, "max": 101, "default": 80 },
    { "type": "range", "id": "padding_bottom", "label": "Padding Bottom", "min": 20, "max": 101, "default": 80 },

    { "type": "range", "id": "card_gap", "label": "Block Gap", "min": 10, "max": 60, "default": 24 },

    { "type": "checkbox", "id": "enable_animation", "label": "Enable Animation", "default": true },
    {
      "type": "range",
      "id": "animation_speed",
      "label": "Animation Speed",
      "min": 0.2,
      "max": 2,
      "step": 0.1,
      "default": 0.8
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "range", "id": "image_height", "label": "Image Height", "min": 50, "max": 101, "default": 100 },
        { "type": "range", "id": "image_width", "label": "Image Width", "min": 50, "max": 101, "default": 100 },

        { "type": "text", "id": "heading", "label": "Heading", "default": "Premium Quality" },
        {
          "type": "textarea",
          "id": "text",
          "label": "Description",
          "default": "Experience the best products crafted for you."
        },

        { "type": "color", "id": "bg_color", "label": "Block Background", "default": "rgba(255,255,255,0.08)" },
        { "type": "color", "id": "text_color", "label": "Block Text Color", "default": "#ffffff" },

        { "type": "range", "id": "radius", "label": "Border Radius", "min": 0, "max": 40, "default": 16 },
        { "type": "range", "id": "padding", "label": "Padding", "min": 10, "max": 60, "default": 20 },

        {
          "type": "select",
          "id": "align",
          "label": "Text Alignment",
          "options": [
            { "value": "left", "label": "Left" },
            { "value": "center", "label": "Center" },
            { "value": "right", "label": "Right" }
          ],
          "default": "center"
        },

        {
          "type": "range",
          "id": "delay",
          "label": "Animation Delay (sec)",
          "min": 0,
          "max": 2,
          "step": 0.1,
          "default": 0.2
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Animated Hero",
      "blocks": [{ "type": "slide" }, { "type": "slide" }, { "type": "slide" }]
    }
  ]
}
{% endschema %}
